import org.gradle.plugins.ide.eclipse.model.Facet
apply plugin: 'java'
apply plugin: 'eclipse-wtp'
apply plugin: 'war'

	webAppDirName = 'WebContent'    // 璁剧疆 WebApp 鏍圭洰褰�
	//version = '1.0'  
  
  	sourceCompatibility = 1.8 
  	targetCompatibility = 1.8 
  	
	sourceSets {
	    main {
	        java {
	            srcDir 'src/java'
	        }
	        resources {
	            srcDir 'src/resources'
	        }
 
	    }
	}

	repositories {
	    mavenLocal()
	    mavenCentral()
	   // maven { url '<a href="http://maven.oschina.net/content/groups/public/' " target="_blank">http://maven.oschina.net/content/groups/public/' </a>} // 鑷畾涔夊簱鍦板潃
	}

 
war{
    //http://localhost:8080/swirecoke/home/index
    baseName ='swirecoke'  
    
    from("$projectDir/src/") {
        include "*.xml"
        into('WEB-INF/classes')
    }
    from("$projectDir/src/config/language") {
        into('WEB-INF/classes/config/language')
    }
    from("$projectDir/src/config/properties") {
        into('WEB-INF/classes/config/properties')
    }
    
}
 
 
dependencies {
   compile('org.springframework:spring-context:4.3.1.RELEASE')
   {
     exclude module:'commons-logging'  //xclude commons-logging
    }

	compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.21'
	compile group: 'org.slf4j', name: 'jcl-over-slf4j', version: '1.7.21'
    compile group: 'org.logback-extensions', name: 'logback-ext-spring', version: '0.1.4'
	
    // https://mvnrepository.com/artifact/ch.qos.logback/logback-classic
	compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.1.7'
    compile 'org.springframework:spring-jdbc:4.3.1.RELEASE'
    compile 'org.springframework:spring-orm:4.3.1.RELEASE'
    compile 'org.springframework:spring-webmvc:4.3.1.RELEASE'
 	providedCompile 'javax.servlet:servlet-api:2.5'  
	providedRuntime 'javax.servlet:jstl:1.2'    
    // https://mvnrepository.com/artifact/org.apache.commons/commons-dbcp2
	compile group: 'org.apache.commons', name: 'commons-dbcp2', version: '2.1'

	 //   providedRuntime 'org.springframework.boot:spring-boot-starter-web:1.3.5.RELEASE'
     compile group: 'org.hibernate', name: 'hibernate-core', version: '4.3.11.Final'
     // https://mvnrepository.com/artifact/mysql/mysql-connector-java
	compile group: 'mysql', name: 'mysql-connector-java', version: '5.1.37'
	// https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind
	compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.8.1'
	
	// https://mvnrepository.com/artifact/org.apache.directory.studio/org.apache.commons.codec
	compile group: 'org.apache.directory.studio', name: 'org.apache.commons.codec', version: '1.8'
	
     
}

  task wrapper(type: Wrapper) { 
     gradleVersion = '2.14.1' 
  } 
  task deploy (dependsOn: war){
    copy {
        from "build/libs"
        into "C:/XAMPP/apache-tomcat-8.0.12/webapps"
        include "*.war"
    }
 }
 

  